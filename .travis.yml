language: node_js
node_js:
- 8.9.4
branches:
  only:
  - master
before_install:
- openssl aes-256-cbc -K $encrypted_792626dc5472_key -iv $encrypted_792626dc5472_iv
  -in avanish-secret.json.enc -out ~\/Downloads/avanish-secret.json -d
- npm install -g hexo-cli
install:
- npm install
before_script:
- git config --global user.name 'Avanish Shrestha'
- git config --global user.email 'avanissh@gmail.com'
script:
- hexo clean
- hexo generate
- hexo deploy
deploy:
  provider: gae
  keyfile: ...
  project: pixie